<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ† - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</title>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@700;800&family=Cairo:wght@600&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Ø§Ù„Ø«ÙˆØ§Ø¨Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        body { margin: 0; padding: 0; overflow-x: hidden; background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab); background-size: 400% 400%; animation: gradientBG 15s ease infinite; font-family: 'Cairo', sans-serif; }
        @keyframes gradientBG { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }

        .slider-container { width: 92%; margin: 20px auto; height: 180px; max-width: 600px; border-radius: 25px; overflow: hidden; border: 2px solid rgba(255,255,255,0.4); position: relative; }
        .slides { display: flex; width: 900%; height: 100%; animation: slideAction 36s infinite ease-in-out; }
        .slide { width: 11.11%; background-size: cover; background-position: center; }
        @keyframes slideAction { 0%, 9% { transform: translateX(0%); } 11%, 20% { transform: translateX(11.11%); } 22%, 31% { transform: translateX(22.22%); } 33%, 42% { transform: translateX(33.33%); } 44%, 53% { transform: translateX(44.44%); } 55%, 64% { transform: translateX(55.55%); } 66%, 75% { transform: translateX(66.66%); } 77%, 86% { transform: translateX(77.77%); } 88%, 100% { transform: translateX(88.88%); } }

        .menu-container { padding: 10px 20px; display: flex; flex-direction: column; gap: 15px; max-width: 600px; margin: 0 auto; }
        .glass-btn { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(12px); border: 2px solid rgba(255, 255, 255, 0.4); color: white; padding: 18px; border-radius: 20px; text-align: center; font-weight: 800; cursor: pointer; transition: 0.3s; }
        
        #librarySection, #quotesSection, #readerMode { display: none; }
        .top-bar { display: flex; align-items: center; padding: 12px 15px; gap: 10px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; }
        .back-circle { width: 35px; height: 35px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; color: white; }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ù…Ø·ÙˆÙ‘Ø± */
        .novel-card { background: rgba(255,255,255,0.2); margin: 15px; padding: 20px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.3); color: white; max-width: 500px; margin-left: auto; margin-right: auto; }
        
        /* Ø§Ù„Ù†Ø¬ÙˆÙ… */
        .stars-row { margin: 10px 0; font-size: 22px; }
        .star { cursor: pointer; color: white; transition: 0.3s; }
        .star.active { color: #FFD700; text-shadow: 0 0 10px rgba(255,215,0,0.5); }

        /* Ø§Ù„Ù„Ø§ÙŠÙƒØ§Øª */
        .interaction-bar { display: flex; gap: 20px; margin: 15px 0; border-top: 1px solid rgba(255,255,255,0.1); pt: 10px; }
        .react-btn { cursor: pointer; display: flex; align-items: center; gap: 5px; opacity: 0.8; transition: 0.3s; }
        .react-btn:hover { opacity: 1; transform: scale(1.1); }
        .react-btn.active-like { color: #00ff88; opacity: 1; }
        .react-btn.active-dislike { color: #ff4d4d; opacity: 1; }

        /* Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª */
        .comment-area { display: flex; gap: 10px; margin-top: 15px; }
        .comment-area input { flex: 1; padding: 10px; border-radius: 12px; border: none; background: rgba(255,255,255,0.9); outline: none; }
        .comment-area button { padding: 8px 15px; border-radius: 12px; border: none; background: #FFD700; font-weight: bold; cursor: pointer; }

        #readerMode { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; background: #fff; }
        iframe { width: 100%; height: calc(100% - 60px); border: none; }
    </style>
</head>
<body onload="initApp()">

<div id="homeUI">
    <div style="text-align: center; padding: 20px; color: white;">
        <h1 style="font-family: 'Almarai'; margin: 0;">Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ†</h1>
        <p style="opacity: 0.8;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ <span id="userGreeting" style="color: #FFD700;">...</span></p>
    </div>

    <div class="slider-container">
        <div class="slides">
            <div class="slide" style="background-image: url('https://i.ibb.co/LDRb8d64/Screenshot-2026-01-27-164026.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/9mntZww9/Screenshot-2026-01-28-012416.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/tpjZ8bkf/Screenshot-2026-01-28-012315.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/5xnfF4MH/Screenshot-2026-01-28-012305.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/jk7DKz9j/Screenshot-2026-01-28-012217.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/zWbYQ1p3/Screenshot-2026-01-28-012201.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/S424GfVR/Screenshot-2026-01-28-012150.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/LzCtC41s/Screenshot-2026-01-28-012142.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/5WCsTrMn/Screenshot-2026-01-28-012120.png');"></div>
        </div>
    </div>

    <div class="menu-container">
        <div class="glass-btn" onclick="showSec('librarySection')">âœ¨ ØªØ§Ø¨Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ÙƒØªØ¨Ø©</div>
        <div class="glass-btn" onclick="showSec('quotesSection')">ğŸ–‹ï¸ Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø£Ø¯Ø¨ÙŠØ©</div>
        <div class="glass-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹')">ğŸ’¡ Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…Ù† Ø±ÙˆØ§ÙŠØ©</div>
        <div class="glass-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹')">ğŸ‘¥ Ù…Ù† Ù†Ø­Ù† / ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</div>
    </div>
</div>

<div id="librarySection">
    <div class="top-bar">
        <div class="back-circle" onclick="showSec('homeUI')">â”</div>
        <input type="text" id="novelSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø±ÙˆØ§ÙŠØªÙƒ..." onkeyup="liveSearch()" style="background:none; border:none; color:white; flex-grow:1; outline:none;">
    </div>
    <div id="novelsContainer"></div>
</div>

<script>
    // 1. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ù…Ø®Ø²Ù†)
    const novelsData = [
        { id: 0, name: "Ø­Ù„Ù… Ø·Ù†Ø¬Ø§Ø±", img: "https://i.ibb.co/G497YVXL/Screenshot-2026-01-28-014231.png", file: "tangar.html", available: true },
        { id: 1, name: "Ù‚Ù„Ø¨ Ø§Ù„ØªÙŠÙ†", img: "https://i.ibb.co/v97Ghgy/Screenshot-2026-01-28-043103.png", available: false },
        { id: 2, name: "Ù…Ù…Ø§Ù„Ùƒ Ø§Ù„Ù‚ÙŠØ±Ø§Ù†", img: "https://i.ibb.co/MyXwc6TT/Screenshot-2026-01-28-014536.png", available: false },
        { id: 3, name: "ÙˆØ¨Ø§Ø¡", img: "https://i.ibb.co/xqfBbZjf/Screenshot-2026-01-28-014331.png", available: false },
        { id: 4, name: "Ù‚ØµØµ Ù…Ù† Ù…ØµØ¯Ø±", img: "https://i.ibb.co/BHgP5YC6/Screenshot-2026-01-28-014426.png", available: false }
    ];

    // 2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø© (Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù„Ø¶Ù…Ø§Ù† ØªÙØ§Ø¹Ù„ ÙˆØ§Ø­Ø¯)
    let appState = JSON.parse(localStorage.getItem('shain_state')) || { ratings: {}, votes: {} };

    function initApp() {
        let name = localStorage.getItem('shain_name') || prompt("Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ") || "ØµØ¯ÙŠÙ‚Ù†Ø§";
        localStorage.setItem('shain_name', name);
        document.getElementById('userGreeting').innerText = name;
        renderNovels();
    }

    function renderNovels() {
        const container = document.getElementById('novelsContainer');
        container.innerHTML = novelsData.map(novel => {
            const userRating = appState.ratings[novel.id] || 0;
            const userVote = appState.votes[novel.id]; // 'like' or 'dislike'

            return `
            <div class="novel-card" data-name="${novel.name}">
                <div style="display:flex; gap:15px; align-items:center;">
                    <img src="${novel.img}" width="90" style="border-radius:15px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
                    <div style="flex:1;">
                        <div style="font-weight:800; font-size:20px; margin-bottom:5px;">${novel.name}</div>
                        
                        <div class="stars-row">
                            ${[1,2,3,4,5].map(s => `
                                <span class="star ${userRating >= s ? 'active' : ''}" onclick="rateNovel(${novel.id}, ${s})">â˜…</span>
                            `).join('')}
                        </div>
                    </div>
                </div>

                <div class="interaction-bar">
                    <div class="react-btn ${userVote === 'like' ? 'active-like' : ''}" onclick="vote(${novel.id}, 'like')">
                        ğŸ‘ <span>${userVote === 'like' ? 'Ø£Ø¹Ø¬Ø¨Ù†ÙŠ' : 'Ù„Ø§ÙŠÙƒ'}</span>
                    </div>
                    <div class="react-btn ${userVote === 'dislike' ? 'active-dislike' : ''}" onclick="vote(${novel.id}, 'dislike')">
                        ğŸ‘ <span>${userVote === 'dislike' ? 'Ù„Ù… ÙŠØ¹Ø¬Ø¨Ù†ÙŠ' : 'Ø¯ÙŠØ³Ùƒ Ù„Ø§ÙŠÙƒ'}</span>
                    </div>
                </div>

                <div class="comment-area">
                    <input type="text" id="input-${novel.id}" placeholder="Ø§ÙƒØªØ¨ Ø±Ø£ÙŠÙƒ Ù‡Ù†Ø§...">
                    <button onclick="sendComm(${novel.id})">Ù†Ø´Ø±</button>
                </div>

                <div class="glass-btn" style="margin-top:20px; padding:12px; font-size:14px;" 
                     onclick="${novel.available ? `alert('ÙØªØ­ Ø§Ù„Ø±ÙˆØ§ÙŠØ©...')` : 'alert(\'Ù‚Ø±ÙŠØ¨Ø§Ù‹\')'}">
                    ${novel.available ? 'ğŸ“– Ø§Ù‚Ø±Ø£ Ø§Ù„Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¢Ù†' : 'â³ Ø§Ù†ØªØ¸Ø±ÙˆÙ†Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹'}
                </div>
            </div>
            `;
        }).join('');
    }

    // Ù…Ù†Ø·Ù‚ Ø§Ù„Ù†Ø¬ÙˆÙ…
    function rateNovel(id, star) {
        appState.ratings[id] = star;
        saveAndRefresh();
    }

    // Ù…Ù†Ø·Ù‚ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¹ÙƒØ³ÙŠ (Ø§Ù„ØªØ­ÙƒÙ…)
    function vote(id, type) {
        // Ù„Ùˆ Ø¯Ø§Ø³ Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù†ÙˆØ¹ ØªØ§Ù†ÙŠ ÙŠÙ„ØºÙŠÙ‡ØŒ Ù„Ùˆ Ø¯Ø§Ø³ Ø¹Ù„Ù‰ Ø¹ÙƒØ³Ù‡ ÙŠØ¨Ø¯Ù„
        if (appState.votes[id] === type) {
            delete appState.votes[id];
        } else {
            appState.votes[id] = type;
        }
        saveAndRefresh();
    }

    function sendComm(id) {
        const val = document.getElementById(`input-${id}`).value;
        if(val) { alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… ØªØ¹Ù„ÙŠÙ‚Ùƒ Ø¨Ù†Ø¬Ø§Ø­!"); document.getElementById(`input-${id}`).value = ""; }
    }

    function saveAndRefresh() {
        localStorage.setItem('shain_state', JSON.stringify(appState));
        renderNovels();
    }

    function showSec(id) {
        document.getElementById('homeUI').style.display = 'none';
        document.getElementById('librarySection').style.display = 'none';
        document.getElementById(id).style.display = 'block';
    }

    function liveSearch() {
        let q = document.getElementById('novelSearch').value.toLowerCase();
        document.querySelectorAll('.novel-card').forEach(c => {
            c.style.display = c.getAttribute('data-name').toLowerCase().includes(q) ? 'block' : 'none';
        });
    }
</script>
</body>
</html>
