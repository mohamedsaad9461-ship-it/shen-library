<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ† - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© ÙˆØ§Ù„Ù…Ø³ØªÙ‚Ø±Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Almarai:wght@700;800&family=Cairo:wght@600&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; padding: 0; overflow-x: hidden; background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab); background-size: 400% 400%; animation: gradientBG 15s ease infinite; font-family: 'Cairo', sans-serif; }
        @keyframes gradientBG { 0%, 100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }

        .slider-container { width: 92%; margin: 20px auto; height: 180px; max-width: 600px; border-radius: 25px; overflow: hidden; border: 2px solid rgba(255,255,255,0.4); position: relative; }
        .slides { display: flex; width: 900%; height: 100%; animation: slideAction 36s infinite ease-in-out; }
        .slide { width: 11.11%; background-size: cover; background-position: center; }
        @keyframes slideAction { 0%, 9% { transform: translateX(0%); } 11%, 20% { transform: translateX(11.11%); } 22%, 31% { transform: translateX(22.22%); } 33%, 42% { transform: translateX(33.33%); } 44%, 53% { transform: translateX(44.44%); } 55%, 64% { transform: translateX(55.55%); } 66%, 75% { transform: translateX(66.66%); } 77%, 86% { transform: translateX(77.77%); } 88%, 100% { transform: translateX(88.88%); } }

        .menu-container { padding: 10px 20px; display: flex; flex-direction: column; gap: 12px; max-width: 600px; margin: 0 auto; }
        .glass-btn { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(12px); border: 2px solid rgba(255, 255, 255, 0.4); color: white; padding: 16px; border-radius: 20px; text-align: center; font-weight: 800; cursor: pointer; transition: 0.3s; }
        
        #librarySection, #quotesSection, #readerMode { display: none; }
        .top-bar { display: flex; align-items: center; padding: 12px 15px; gap: 10px; background: rgba(255,255,255,0.2); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; color: white; }
        .back-circle { width: 35px; height: 35px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; border: 1px solid rgba(255,255,255,0.4); }

        /* Ø§Ù„Ø±ÙˆØ§ÙŠØ§Øª */
        .novel-card { background: rgba(255,255,255,0.18); margin: 15px; padding: 20px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.3); color: white; max-width: 500px; margin-left: auto; margin-right: auto; }
        .star { cursor: pointer; font-size: 20px; color: white; transition: 0.3s; }
        .star.active { color: #FFD700; text-shadow: 0 0 8px gold; }

        /* Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø§Ù„Ø·ÙˆÙ„ÙŠØ© */
        .quotes-list-container { padding: 10px; max-width: 550px; margin: 0 auto; }
        .quote-card { background: rgba(255,255,255,0.15); backdrop-filter: blur(20px); border-radius: 25px; padding: 25px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.4); color: white; position: relative; }
        .author-info { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .author-img { width: 55px; height: 55px; border-radius: 50%; border: 2px solid #FFD700; background-size: cover; background-position: center; }
        .author-name { font-weight: bold; color: #FFD700; }
        .quote-text { font-family: 'Amiri', serif; font-size: 1.2rem; line-height: 1.6; font-style: italic; }
        .q-actions { display: flex; gap: 20px; margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px; font-size: 14px; }
        .q-btn { cursor: pointer; opacity: 0.8; }
        .q-btn.active-like { color: #00ff88; opacity: 1; font-weight: bold; }
        .q-btn.active-dislike { color: #ff4d4d; opacity: 1; font-weight: bold; }

        #readerMode { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; background: #fff; }
        iframe { width: 100%; height: calc(100% - 60px); border: none; }
    </style>
</head>
<body onload="initApp()">

<div id="homeUI">
    <div style="text-align: center; padding: 20px; color: white;">
        <h1 style="font-family: 'Almarai'; margin: 0;">Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ†</h1>
        <p style="opacity: 0.8;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ <span id="userGreeting" style="color: #FFD700;">...</span></p>
    </div>

    <div class="slider-container">
        <div class="slides">
            <div class="slide" style="background-image: url('https://i.ibb.co/LDRb8d64/Screenshot-2026-01-27-164026.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/9mntZww9/Screenshot-2026-01-28-012416.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/tpjZ8bkf/Screenshot-2026-01-28-012315.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/5xnfF4MH/Screenshot-2026-01-28-012305.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/jk7DKz9j/Screenshot-2026-01-28-012217.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/zWbYQ1p3/Screenshot-2026-01-28-012201.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/S424GfVR/Screenshot-2026-01-28-012150.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/LzCtC41s/Screenshot-2026-01-28-012142.png');"></div>
            <div class="slide" style="background-image: url('https://i.ibb.co/5WCsTrMn/Screenshot-2026-01-28-012120.png');"></div>
        </div>
    </div>

    <div class="menu-container">
        <div class="glass-btn" onclick="showSec('librarySection')">âœ¨ ØªØ§Ø¨Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…ÙƒØªØ¨Ø©</div>
        <div class="glass-btn" onclick="showSec('quotesSection')">ğŸ–‹ï¸ Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø£Ø¯Ø¨ÙŠØ©</div>
        <div class="glass-btn" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹')">ğŸ’¡ Ù…Ø¹Ù„ÙˆÙ…Ø© Ù…Ù† Ø±ÙˆØ§ÙŠØ©</div>
        <div class="glass-btn" onclick="changeName()">ğŸ‘¤ ØªØºÙŠÙŠØ± Ø§Ø³Ù…ÙŠ</div>
        <div class="glass-btn" onclick="alert('ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± ÙÙŠØ³Ø¨ÙˆÙƒ: Ø¬Ø±ÙˆØ¨ Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ†')">ğŸ‘¥ Ù…Ù† Ù†Ø­Ù† / ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</div>
    </div>
</div>

<div id="librarySection">
    <div class="top-bar">
        <div class="back-circle" onclick="showSec('homeUI')">â”</div>
        <input type="text" id="novelSearch" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø±ÙˆØ§ÙŠØªÙƒ..." onkeyup="liveSearch()" style="background:none; border:none; color:white; flex-grow:1; outline:none;">
    </div>
    <div id="novelsContainer"></div>
</div>

<div id="quotesSection">
    <div class="top-bar">
        <div class="back-circle" onclick="showSec('homeUI')">â”</div>
        <div style="flex-grow:1; text-align:center; font-weight:bold;">Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
    </div>
    <div class="quotes-list-container" id="quotesList"></div>
</div>

<div id="readerMode">
    <div class="top-bar" style="background:#fff; color:#333;">
        <div class="back-circle" onclick="closeReader()" style="color:#333; border-color:#333;">â”</div>
        <div id="readerTitle" style="flex-grow:1; text-align:center; font-weight:bold; color:#333;"></div>
    </div>
    <iframe id="bookFrame" src=""></iframe>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±ÙˆØ§ÙŠØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©
    const novelsData = [
        { id: 0, name: "Ø­Ù„Ù… Ø·Ù†Ø¬Ø§Ø±", img: "https://i.ibb.co/G497YVXL/Screenshot-2026-01-28-014231.png", file: "tangar.html", available: true },
        { id: 1, name: "Ù‚Ù„Ø¨ Ø§Ù„ØªÙŠÙ†", img: "https://i.ibb.co/v97Ghgy/Screenshot-2026-01-28-043103.png", available: false },
        { id: 2, name: "Ù…Ù…Ø§Ù„Ùƒ Ø§Ù„Ù‚ÙŠØ±Ø§Ù†", img: "https://i.ibb.co/MyXwc6TT/Screenshot-2026-01-28-014536.png", available: false },
        { id: 3, name: "ÙˆØ¨Ø§Ø¡", img: "https://i.ibb.co/xqfBbZjf/Screenshot-2026-01-28-014331.png", available: false },
        { id: 4, name: "Ù‚ØµØµ Ù…Ù† Ù…ØµØ¯Ø±", img: "https://i.ibb.co/BHgP5YC6/Screenshot-2026-01-28-014426.png", available: false }
    ];

    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ù‚ØªØ¨Ø§Ø³Ø§Øª (5 ØªØ¬Ø±ÙŠØ¨ÙŠÙŠÙ†)
    const quotesData = [
        { id: 101, name: "Ù…Ø­Ù…Ø¯ Ø³Ø¹Ø¯", img: "https://i.ibb.co/LDRb8d64/Screenshot-2026-01-27-164026.png", text: "Ù‡Ù†Ø§ÙƒØŒ ÙŠÙÙ†Ø³Ø¬ Ù„Ùƒ Ø«ÙˆØ¨ Ø£Ù…Ù†ÙŠØ§ØªÙƒØŒ ØªÙ…Ø§Ù…Ø§Ù‹ ÙƒÙ…Ø§ ØªÙ…Ù†ÙŠØªÙ‡ØŒ Ù…Ù„Ø§Ø¦Ù…Ø§Ù‹ Ù„Ø¬Ø³Ø¯Ùƒ." },
        { id: 102, name: "ÙÙˆØ²ÙŠ Ø£Ø¨Ùˆ Ø­Ù†ÙŠÙ†", img: "https://via.placeholder.com/60", text: "Ø£Ù…ÙŠ ØŸ
Ø¢Ù‡ØŒ ØªÙ„Ùƒ Ø§Ù„Ù…Ø±Ø£Ø© Ø§Ù„Ù‚Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ ØµÙ†Ø¹Øª Ù…Ù† ÙˆØ­Ø¯ØªÙŠ ÙˆØ·Ù†Ø§ØŒ Ø«Ù… ØªØ±ÙƒØªÙ†ÙŠ ÙÙŠÙ‡ Ø¯ÙˆÙ† Ù…ÙØªØ§Ø­.
ØªØ±ÙƒØªÙ†ÙŠ Ø¨Ù‚Ø³ÙˆØ©ØŒ Ù‚Ø³ÙˆØ© Ù„Ø§ ÙŠÙØ¬ÙŠØ¯Ù‡Ø§ Ø¥Ù„Ø§ Ù…Ù† Ø£Ø­Ø¨ Ø«Ù… ÙƒÙ Ø¹Ù† Ø§Ù„Ø­Ø¨ ÙØ¬Ø£Ø©.
Ù„ÙƒÙ†Ù†ÙŠ ÙƒØ¨Ø±ØªØŒ ÙˆÙ„Ù… Ø£Ø¹Ø¯ Ø£ÙƒØ±Ù‡Ù‡Ø§.....
Ù„Ù… Ø£Ø¹Ø¯ Ø£ÙƒØ±Ù‡Ù‡Ø§ Ù„Ø£Ù†Ù†ÙŠ ÙÙ‡Ù…Øª Ø´ÙŠØ¦Ù‹Ø§ :
Ù‡ÙŠ Ù„Ù… ØªÙ…Ù„Ùƒ Ø®ÙŠØ§Ø±Ù‹Ø§.
Ù†Ø¹Ù…ØŒ Ø§Ù„Ù‚Ø³ÙˆØ© ÙƒØ§Ù†Øª Ù…Ù†Ù‡Ø§ØŒ Ù„ÙƒÙ†Ù‡Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ù‚Ø§Ø³ÙŠØ©.....
ÙƒØ§Ù†Øª Ø§Ù„Ø­ÙŠØ§Ø©.
ÙˆÙƒØ§Ù† Ø§Ù„Ù…ÙˆØª Ø£Ù‚ÙˆÙ‰ Ù…Ù† Ø­Ù†Ø§Ù†Ù‡Ø§ØŒ ÙˆÙƒØ§Ù† Ø§Ù„Ù…Ø±Ø¶ Ø£Ø³Ø¨Ù‚ Ù…Ù† Ø£Ù†ÙØ§Ø³Ù‡Ø§.
Ø§Ù„Ù„Ù‡ Ù‡Ùˆ Ù…Ù† Ø§Ø®ØªØ§Ø±Ù‡Ø§.
Ù„Ù… ØªÙ…Ù„Ùƒ Ø£Ù† ØªØ¨Ù‚Ù‰ØŒ ÙˆÙ„Ù… ØªÙ…Ù„Ùƒ Ø£Ù† ØªØ±Ø§Ù†ÙŠ ÙˆØ£Ù†Ø§ Ø£ÙƒØ¨Ø±ØŒ ÙˆÙ„Ù… ØªÙ…Ù„Ùƒ Ø£Ù† ØªØ¹ØªØ°Ø±ØŒ ÙˆÙ„Ù… ØªÙ…Ù„Ùƒ
Ø£Ù† ØªØ­ØªØ¶Ù†Ù†ÙŠ Ø­ÙŠÙ† Ø§Ù†Ù‡Ø±Øª Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©.
Ù„Ùˆ ÙƒØ§Ù†Øª ØªÙ…Ù„ÙƒØŒ Ù„Ù…Ø§ ØªØ±ÙƒØªÙ†ÙŠ Ù‡ÙƒØ°Ø§.
Ù„ÙƒÙ†Ù‡Ø§ ØªØ±ÙƒØªÙ†ÙŠØŒ ÙˆÙ„Ù… ÙŠØ¨Ù‚ Ù„ÙŠ Ø¥Ù„Ø§ Ø§Ù„ÙØ±Ø§Øº.
ÙØ±Ø§Øº ÙˆØ§Ø³Ø¹ØŒ Ù„Ø§ ÙŠÙ…Ù„Ø£ Ø¨Ø§Ù„Ø·Ø¹Ø§Ù…ØŒ ÙˆÙ„Ø§ Ø¨Ø§Ù„Ø³Ø¬Ø§Ø¦Ø±ØŒ ÙˆÙ„Ø§ Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø·ÙˆÙŠÙ„Ø© ÙÙŠ
Ø§Ù„Ø¹Ù…Ù„.....
Ø±ÙˆØ§ÙŠØ© Ø¥Ù„ÙŠÙ†ÙˆØ±Ø§." },
        { id: 103, name: "Ù†Ø¬Ù„Ø§Ø¡ Ø£Ø­Ù…Ø¯", img: "https://via.placeholder.com/60", text: "ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­ÙŠØ§Ø© Ù‡Ù†Ø§Ùƒ Ù„Ø­Ø¸Ø© ØªØ£ØªÙŠ Ù„ØªÙƒÙˆÙ† Ù‡ÙŠ Ø§Ù„Ø­Ø¯ Ø§Ù„ÙØ§ØµÙ„ Ù„ÙƒÙ„Ù Ø´ÙŠØ¡ .
Ù…ÙØ±Ù‡Ù‚ Ø­Ù‚Ù‹Ø§ Ø£Ù…Ø± ÙƒÙˆÙ†Ù†Ø§ Ø¨Ø´Ø± ØŒ Ù†ØªØ£Ù„Ù… ÙˆÙ†Ø¹Ø§Ù†ÙŠ ..Ø§Ù„Ø¨Ø¹Ø¶ Ù…Ù†Ù‘Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„Ø¨ÙˆØ­ ØŒ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ø¢Ø®Ø± ÙŠØªØ±Ùƒ Ù…Ø§ Ø¨Ø¯Ø§Ø®Ù„Ù‡ ÙŠØ·ÙÙˆ Ø¹Ù„Ù‰ Ù…Ù„Ø§Ù…Ø­Ù‡ ÙˆÙŠØ¸Ù‡Ø± ÙÙŠ Ø¹ÙŠÙ†ÙŠÙ‡ ØŒ ÙˆÙÙŠ Ø±Ø¹Ø´Ø© ÙŠØ¯ÙŠÙ‡ ÙˆÙÙŠ ØµÙ…ØªÙ‡ Ø§Ù„Ø·ÙˆÙŠÙ„ Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙ‚Ø·Ø¹Ù‡ Ø£Ø­Ø¯!
Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„ÙˆØ­ÙŠØ¯Ø© Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ Ø£Ø­Ø¯ Ø¥Ø®Ø¨Ø§Ø±Ùƒ Ø¨Ù‡Ø§ : Ù‡ÙŠ Ø§Ù„Ù…ÙˆØª ØŒØ¬Ù…ÙŠØ¹Ù†Ø§ Ø³Ù†Ù…Ø± Ø¨Ù‡Ø§ Ø¯ÙˆÙ† Ø´Ùƒ ..ÙˆÙ„ÙƒÙ† Ø§Ù„ÙØ±Ù‚ Ø£Ù† Ù„Ø§ Ø£Ø­Ø¯ Ø³ÙŠØ³ØªØ·ÙŠØ¹ Ø¥Ø®Ø¨Ø§Ø± Ø§Ù„Ø¢Ø®Ø± ÙƒÙŠÙ ÙƒØ§Ù†Øª ØªØ¬Ø±Ø¨ØªÙ‡ ...ÙØ§Ø¹Ù…Ù„ Ø¬Ø§Ù‡Ø¯Ù‹Ø§ Ø£Ù† ØªÙ…Ø± Ø¹Ù„ÙŠÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆÙŠÙØ³Ø± .
Ù…Ù† Ø±ÙˆØ§ÙŠØ© Ø¨Ù„Ø¯Ø© Ù†Ø§Ø¯ÙŠÙ„ÙŠÙ†ÙŠ." },
        { id: 104, name: "Ø¥Ø³Ø±Ø§Ø¡ Ø§Ù„Ø´ÙŠØ®", img: "https://via.placeholder.com/60", text: "Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø­Ø¸Ø© Ù‡ÙŠ Ù†Ù‡Ø§ÙŠØ© ÙØµÙ„ ÙˆØ¨Ø¯Ø§ÙŠØ© ÙØµÙ„ Ø¢Ø®Ø±. Ù†Ù‡Ø§ÙŠØ© ÙØµÙ„ Ø§Ù„Ø£Ù„Ù… ÙˆØ§Ù„Ù†Ø¯Ù…ØŒ ÙˆØ¨Ø¯Ø§ÙŠØ© ÙØµÙ„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ³Ø§Ù…Ø­ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„. Ø£Ø¯Ø±Ùƒ ÙŠØ§Ù…Ù† Ø£Ù† Ø§Ù„Ø­ÙŠØ§Ø© ØªØ³ØªÙ…Ø±ØŒ ÙˆØ£Ù† Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ù‚Ù‰ ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ. ÙˆØ£Ù† Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ Ù‡Ùˆ Ù…Ø§ ÙŠÙ‡Ù….Ø§." },
        { id: 105, name: "ØµØ¯ÙŠÙ‚ 5", img: "https://via.placeholder.com/60", text: "Ù…ÙƒØªØ¨Ø© Ø´ÙŠÙ† Ù‡ÙŠ Ø§Ù„Ù…Ù„Ø§Ø° Ù„ÙƒÙ„ Ù…Ù† ÙŠØ¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ§Ø¯Ù‚Ø©." }
    ];

    let appState = JSON.parse(localStorage.getItem('shain_vFinal')) || { ratings: {}, votes: {}, qVotes: {} };

    function initApp() {
        document.getElementById('userGreeting').innerText = localStorage.getItem('shain_name') || "ØµØ¯ÙŠÙ‚Ù†Ø§";
        renderNovels();
        renderQuotes();
    }

    function renderNovels() {
        const container = document.getElementById('novelsContainer');
        container.innerHTML = novelsData.map(n => {
            const r = appState.ratings[n.id] || 0;
            const v = appState.votes[n.id];
            return `
            <div class="novel-card" data-name="${n.name}">
                <div style="display:flex; gap:15px; align-items:center;">
                    <img src="${n.img}" width="80" style="border-radius:15px;">
                    <div style="flex:1;">
                        <div style="font-weight:800; font-size:18px;">${n.name}</div>
                        <div style="margin-top:5px;">
                            ${[1,2,3,4,5].map(s => `<span class="star ${r>=s?'active':''}" onclick="rateNovel(${n.id}, ${s})">â˜…</span>`).join('')}
                        </div>
                    </div>
                </div>
                <div class="q-actions">
                    <span class="q-btn ${v==='like'?'active-like':''}" onclick="voteNovel(${n.id}, 'like')">ğŸ‘ Ù„Ø§ÙŠÙƒ</span>
                    <span class="q-btn ${v==='dislike'?'active-dislike':''}" onclick="voteNovel(${n.id}, 'dislike')">ğŸ‘ Ø¯ÙŠØ³Ùƒ Ù„Ø§ÙŠÙƒ</span>
                </div>
                <div class="glass-btn" style="margin-top:15px; padding:10px; font-size:13px;" onclick="${n.available ? `openReader('${n.name}', '${n.file}')` : 'alert(\'Ù‚Ø±ÙŠØ¨Ø§Ù‹\')'}">
                    ${n.available ? 'ğŸ“– Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¢Ù†' : 'â³ Ù‚Ø±ÙŠØ¨Ø§Ù‹'}
                </div>
            </div>`;
        }).join('');
    }

    function renderQuotes() {
        const container = document.getElementById('quotesList');
        container.innerHTML = quotesData.map(q => {
            const v = appState.qVotes[q.id];
            return `
            <div class="quote-card">
                <div class="author-info">
                    <div class="author-img" style="background-image: url('${q.img}')"></div>
                    <div class="author-name">${q.name}</div>
                </div>
                <div class="quote-text">"${q.text}"</div>
                <div class="q-actions">
                    <span class="q-btn ${v==='like'?'active-like':''}" onclick="voteQuote(${q.id}, 'like')">ğŸ‘ Ø£Ø¹Ø¬Ø¨Ù†ÙŠ</span>
                    <span class="q-btn ${v==='dislike'?'active-dislike':''}" onclick="voteQuote(${q.id}, 'dislike')">ğŸ‘ Ù„Ù… ÙŠØ¹Ø¬Ø¨Ù†ÙŠ</span>
                </div>
            </div>`;
        }).join('');
    }

    function rateNovel(id, s) { appState.ratings[id] = s; save(); }
    function voteNovel(id, t) { appState.votes[id] = (appState.votes[id] === t) ? null : t; save(); }
    function voteQuote(id, t) { appState.qVotes[id] = (appState.qVotes[id] === t) ? null : t; save(); }
    function save() { localStorage.setItem('shain_vFinal', JSON.stringify(appState)); renderNovels(); renderQuotes(); }

    function showSec(id) {
        document.querySelectorAll('#homeUI, #librarySection, #quotesSection').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
    }

    function changeName() {
        let n = prompt("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯:");
        if(n) { localStorage.setItem('shain_name', n); document.getElementById('userGreeting').innerText = n; }
    }

    function openReader(name, file) {
        document.getElementById('readerMode').style.display = 'block';
        document.getElementById('readerTitle').innerText = name;
        document.getElementById('bookFrame').src = file;
    }

    function closeReader() {
        document.getElementById('readerMode').style.display = 'none';
        document.getElementById('bookFrame').src = '';
    }

    function liveSearch() {
        let q = document.getElementById('novelSearch').value.toLowerCase();
        document.querySelectorAll('.novel-card').forEach(c => {
            c.style.display = c.getAttribute('data-name').toLowerCase().includes(q) ? 'block' : 'none';
        });
    }
</script>
</body>
</html>
