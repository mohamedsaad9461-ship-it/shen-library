<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù‚Ø§Ø±Ø¦ Ø´ÙŠÙ† Ø§Ù„Ø°ÙƒÙŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@600&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #f4f1ea; --text: #2c3e50; --size: 1.3rem; --accent: #e67e22; }
        body.dark { --bg: #1a1a1b; --text: #d5d5d5; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Amiri', serif; overflow: hidden; transition: 0.3s; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header { 
            height: 55px; display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px; background: rgba(0,0,0,0.03); backdrop-filter: blur(10px);
            position: fixed; top: 0; width: 100%; z-index: 1000; box-sizing: border-box;
        }
        .nav-icons { display: flex; gap: 15px; align-items: center; }
        .icon-btn { cursor: pointer; font-size: 1.2rem; background: none; border: none; color: var(--text); transition: 0.2s; }
        .icon-btn:active { transform: scale(0.8); }
        .marker-on { color: #f1c40f; text-shadow: 0 0 5px rgba(241,196,15,0.5); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒØªØ§Ø¨ */
        #viewport { margin-top: 55px; height: calc(100vh - 95px); width: 100vw; display: flex; transition: transform 0.4s ease-out; }
        .page-box { min-width: 100vw; box-sizing: border-box; padding: 25px 12%; text-align: justify; font-size: var(--size); line-height: 2.1; }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© (Ù„Ù„ÙƒÙˆÙ…Ø¨ÙŠÙˆØªØ± ÙˆØ§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„) */
        .side-nav {
            position: fixed; top: 55px; height: calc(100vh - 95px); width: 40px;
            display: flex; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.02); cursor: pointer; z-index: 500; font-size: 1.5rem; opacity: 0.3; transition: 0.3s;
        }
        .side-nav:hover { opacity: 1; background: rgba(0,0,0,0.05); }
        .next-page { left: 0; }
        .prev-page { right: 0; }

        /* Ø§Ù„ÙÙˆØªØ± */
        .footer { position: fixed; bottom: 0; width: 100%; height: 40px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.02); font-family: 'Cairo'; font-size: 12px; }
    </style>
</head>
<body class="sepia-mode">

    <div class="header">
        <button class="icon-btn" onclick="location.href='index.html'">âœ•</button>
        <div class="nav-icons">
            <button class="icon-btn" id="m-btn" onclick="toggleMarker()">ğŸ–ï¸</button>
            <button class="icon-btn" onclick="toggleDark()">ğŸŒ™</button>
            <button class="icon-btn" onclick="adjSize(0.1)">A+</button>
            <button class="icon-btn" onclick="adjSize(-0.1)">A-</button>
        </div>
    </div>

    <div class="side-nav next-page" onclick="movePage(1)">â®</div>
    <div class="side-nav prev-page" onclick="movePage(-1)">â¯</div>

    <div id="viewport">
        </div>

    <div class="footer">
        <span id="pg-info">ØµÙØ­Ø© 1 Ù…Ù† ...</span>
    </div>

    <script>
        // Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ (Ù‡ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù…Ù„ÙÙƒ Ø§Ù„Ù†ØµÙŠ ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø¬Ø§ÙŠØ©)
        const demo = "Ù‡Ø°Ø§ Ù†Øµ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙˆØ§Ù„Ø±Ù…ÙˆØ² Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©. ".repeat(600);
        let cur = 0, total = 0;

        function build(txt) {
            const v = document.getElementById('viewport');
            v.innerHTML = "";
            const words = txt.split(' ');
            for(let i=0; i<words.length; i+=180) { // Ù‚Ù„Ù„Øª Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø© Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ø¹ÙŠÙ†
                const pText = words.slice(i, i+180).join(' ');
                const d = document.createElement('div');
                d.className = 'page-box';
                d.innerHTML = `<p>${pText}</p>`;
                v.appendChild(d);
            }
            total = document.querySelectorAll('.page-box').length;
            update();
        }

        function movePage(dir) {
            if(dir === 1 && cur < total - 1) cur++;
            if(dir === -1 && cur > 0) cur--;
            update();
        }

        function update() {
            document.getElementById('viewport').style.transform = `translateX(${cur * 100}vw)`;
            document.getElementById('pg-info').innerText = `ØµÙØ­Ø© ${cur + 1} Ù…Ù† ${total}`;
            localStorage.setItem('shain_last_pg', cur);
        }

        function toggleDark() { document.body.classList.toggle('dark'); }
        function toggleMarker() { 
            document.getElementById('m-btn').classList.toggle('marker-on');
            alert("ÙˆØ¶Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù†Ø´Ø·: ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù…ÙØ¶Ù„Ø©.");
        }
        function adjSize(s) { /* Ø¯Ø§Ù„Ø© ØªØºÙŠÙŠØ± Ø§Ù„Ø®Ø· */ }

        // Ø¯Ø¹Ù… Ø§Ù„Ø³Ø­Ø¨ Ø¨Ø§Ù„Ù„Ù…Ø³
        let sX = 0;
        document.addEventListener('touchstart', e => sX = e.touches[0].clientX);
        document.addEventListener('touchend', e => {
            let dX = sX - e.changedTouches[0].clientX;
            if(Math.abs(dX) > 50) movePage(dX > 0 ? 1 : -1);
        });

        window.onload = () => {
            const s = localStorage.getItem('shain_last_pg');
            if(s) cur = parseInt(s);
            build(demo);
        };
    </script>
</body>
</html>
